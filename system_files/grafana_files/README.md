# secretarybird

### Подключение Grafana к ClickHouse
1. Откройте Grafana по адресу [http://localhost:3000](http://localhost:3000) и авторизуйтесь.
2. Перейдите в **Configuration > Data Sources**.
3. Нажмите **Add data source** и выберите **Altinity plugin for ClickHouse** из списка доступных источников данных.

#### Настройка подключения:
- **URL**: Укажите URL ClickHouse (например, `http://<clickhouse-container-name>:8123`).
- **Default Database**: Введите имя базы данных ClickHouse.
- **User и Password**: Добавьте учетные данные ClickHouse, если требуется.

#### Проверка:
- Нажмите **Save & Test** для проверки. Если подключение установлено успешно, источник данных будет готов к использованию.

---

### Как получить API-ключ через сервисный аккаунт
1. **Войти в Grafana**:  
   Перейдите по адресу [http://localhost:3000](http://localhost:3000) и авторизуйтесь.
2. **Перейти в администрирование**:  
   В левом боковом меню нажмите на **Home** (или название, которое соответствует главной странице) и выберите **Administration**.
3. **Создать сервисный аккаунт**:  
   Перейдите в раздел **Users and access** или **Service accounts**.  
   Нажмите на кнопку **Create service account**.
4. **Настройки сервисного аккаунта**:  
   Укажите имя для аккаунта (например, *Backup Script*).  
   Задайте необходимые разрешения для этого аккаунта (например, уровень доступа **Admin** или **Editor**), чтобы иметь возможность взаимодействовать с API для получения информации о дашбордах.
5. **Сохранение ключа**:  
   После создания аккаунта у вас будет доступ к ключу. Обязательно скопируйте его и сохраните, так как вы не сможете увидеть его снова после этого шага.
