# pipeline/ml_manager/modelRegistryManager.py

class modelRegistryManager:
    """
    Класс для управления реестром моделей: регистрация, сохранение и загрузка моделей.
    """

    def __init__(self):
        self.model_registry = {}

    def register_model(self, model):
        """
        Регистрирует модель в реестре, присваивая ей уникальный идентификатор.

        Аргументы:
            model (BaseModel): Модель для регистрации.

        Возвращает:
            str: Уникальный идентификатор модели.
        """
        model_id = f"{model.__class__.__name__}_{len(self.model_registry) + 1}"
        self.model_registry[model_id] = model
        return model_id

    def get_model(self, model_id):
        """
        Получает модель по ее идентификатору.

        Аргументы:
            model_id (str): Идентификатор модели.

        Возвращает:
            BaseModel: Зарегистрированная модель.
        """
        return self.model_registry.get(model_id)


#####################
"""
Описание и назначение:

Этот модуль служит для регистрации и управления версиями моделей.
Он позволяет сохранять метаинформацию о моделях, такие как время создания, гиперпараметры, версия и т.д.

Ключевые функции:

register_model(model_name, model, metadata): Регистрирует новую версию модели с метаданными.

get_model(model_name, version=None): Получает конкретную версию модели (если версия не указана, возвращает последнюю).

list_models(): Возвращает список всех зарегистрированных моделей и их метаинформацию.

Как взаимодействует с остальными модулями:

Используется modelDeployerManager для получения текущих моделей при развёртывании.
Работает с modelTrainerManager для регистрации новых моделей после успешного обучения.
"""